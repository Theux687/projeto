<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - EcoTrace</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="dashboard-body">
    <header class="dashboard-header">
        <div class="logo">
            <div class="logo-text">EcoTrace</div>
        </div>
        <nav class="menu-topo">
            <span id="user-name">Ol√°, Usu√°rio!</span>
            <a href="#" id="logoutBtn" class="btn-sair">Sair</a>
        </nav>
    </header>

    <div class="dashboard-container">
        <aside class="sidebar-dashboard">
            <h3>Minha Empresa</h3>
            <ul>
                <li><a href="#resumo" class="nav-link active">Resumo</a></li>
                <li><a href="#residuos" class="nav-link">Res√≠duos</a></li>
                <li><a href="#energia" class="nav-link">Energia</a></li>
                <li><a href="#esg" class="nav-link">Relat√≥rios ESG</a></li>
                <li><a href="#alertas" class="nav-link">Alertas</a></li>
                <li><a href="#configuracoes" class="nav-link">Configura√ß√µes</a></li>
            </ul>
        </aside>

        <main class="dashboard-main">
            
            <section id="resumo" class="dashboard-section active">
                <h1>Dashboard Sustent√°vel</h1>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Res√≠duos Rastreados</h3>
                        <p class="stat-number">1.245 kg</p>
                        <span class="stat-trend positive">‚Üó 12%</span>
                    </div>
                    <div class="stat-card">
                        <h3>Energia Economizada</h3>
                        <p class="stat-number">3.458 kWh</p>
                        <span class="stat-trend positive">‚Üó 8%</span>
                    </div>
                    <div class="stat-card">
                        <h3>CO‚ÇÇ Reduzido</h3>
                        <p class="stat-number">2.1 t</p>
                        <span class="stat-trend positive">‚Üó 15%</span>
                    </div>
                    <div class="stat-card">
                        <h3>Alertas Ativos</h3>
                        <p class="stat-number">3</p>
                        <span class="stat-trend negative">‚Üò 25%</span>
                    </div>
                </div>

                <div class="recent-activity">
                    <h2>Atividade Recente</h2>
                    <div class="activity-list">
                        <div class="activity-item">
                            <span class="activity-icon">üìä</span>
                            <div class="activity-content">
                                <p><strong>Relat√≥rio ESG gerado</strong></p>
                                <small>H√° 2 horas - Download dispon√≠vel</small>
                            </div>
                        </div>
                        <div class="activity-item">
                            <span class="activity-icon">‚ö†Ô∏è</span>
                            <div class="activity-content">
                                <p><strong>Alerta: Consumo elevado de energia</strong></p>
                                <small>Setor de Produ√ß√£o B - H√° 5 horas</small>
                            </div>
                        </div>
                        <div class="activity-item">
                            <span class="activity-icon">‚ôªÔ∏è</span>
                            <div class="activity-content">
                                <p><strong>Res√≠duos destinados corretamente</strong></p>
                                <small>1.2 toneladas - H√° 1 dia</small>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            
            <section id="residuos" class="dashboard-section">
                <h1>Gest√£o de Res√≠duos</h1>
                <div class="content-placeholder">
                    <p>üì¶ Controle completo de res√≠duos industriais</p>
                    <p>‚Ä¢ Rastreamento em tempo real</p>
                    <p>‚Ä¢ Relat√≥rios de destina√ß√£o</p>
                    <p>‚Ä¢ Metas de redu√ß√£o</p>
                </div>
            </section>

            
            <section id="energia" class="dashboard-section">
                <h1>Monitoramento Energ√©tico</h1>
                <div class="content-placeholder">
                    <p>‚ö° An√°lise de consumo energ√©tico</p>
                    <p>‚Ä¢ Gr√°ficos de consumo por setor</p>
                    <p>‚Ä¢ Alertas de desperd√≠cio</p>
                    <p>‚Ä¢ Sugest√µes de economia</p>
                </div>
            </section>

            
            <section id="esg" class="dashboard-section">
                <h1>Relat√≥rios ESG</h1>
                <div class="content-placeholder">
                    <p>üìë Relat√≥rios autom√°ticos de sustentabilidade</p>
                    <p>‚Ä¢ Indicadores ambientais</p>
                    <p>‚Ä¢ Compliance regulat√≥rio</p>
                    <p>‚Ä¢ Exporta√ß√£o para stakeholders</p>
                </div>
            </section>

            <!-- SE√á√ÉO ALERTAS -->
            <section id="alertas" class="dashboard-section">
                <h1>Alertas do Sistema</h1>
                <div class="content-placeholder">
                    <p>üîî Notifica√ß√µes e alertas importantes</p>
                    <p>‚Ä¢ Monitoramento em tempo real</p>
                    <p>‚Ä¢ Configura√ß√£o de limites</p>
                    <p>‚Ä¢ Hist√≥rico de alertas</p>
                </div>
            </section>

            
            <section id="configuracoes" class="dashboard-section">
                <h1>Configura√ß√µes</h1>
                <div class="content-placeholder">
                    <p>‚öôÔ∏è Configura√ß√µes do sistema</p>
                    <p>‚Ä¢ Perfil da empresa</p>
                    <p>‚Ä¢ Prefer√™ncias de notifica√ß√£o</p>
                    <p>‚Ä¢ Integra√ß√µes</p>
                </div>
            </section>
        </main>
    </div>

    <script>
        
        window.addEventListener('load', function() {
            const isLoggedIn = localStorage.getItem('isUserLoggedIn');
            const userData = JSON.parse(localStorage.getItem('userData') || '{}');
            
            if (isLoggedIn !== 'true') {
                alert('Voc√™ precisa fazer login primeiro!');
                window.location.href = 'index.html';
                return;
            }
            
        
            const userName = document.getElementById('user-name');
            if (userData.email) {
                userName.textContent = `Ol√°, ${userData.email.split('@')[0]}!`;
            }
        });

        
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                
                this.classList.add('active');
                
               
                document.querySelectorAll('.dashboard-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                
                const targetId = this.getAttribute('href');
                document.querySelector(targetId).classList.add('active');
            });
        });

       
        document.getElementById('logoutBtn').addEventListener('click', function(e) {
            e.preventDefault();
            
            if (confirm('Deseja realmente sair?')) {
                localStorage.removeItem('isUserLoggedIn');
                localStorage.removeItem('userData');
                alert('Logout realizado com sucesso!');
                window.location.href = 'index.html';
            }
        });
    </script>
</body>
</html>